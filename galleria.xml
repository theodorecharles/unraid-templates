<?xml version="1.0"?>
<Container version="2">
  <Name>Galleria</Name>
  <Repository>tedcharles/galleria:latest</Repository>
  <Registry>https://hub.docker.com/r/tedcharles/galleria</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/theodorecharles/Galleria/issues</Support>
  <Project>https://galleria.website/</Project>
  <Overview>Galleria is a modern, self-hosted photography portfolio platform built with React, TypeScript, and Express. Features include image optimization, album management, analytics, Google OAuth authentication, AI title generation (optional), MFA/Passkey support, and a beautiful responsive UI. Perfect for photographers who want full control over their portfolio without monthly fees.</Overview>
  <Category>MediaApp:Photos MediaServer:Photos</Category>
  <WebUI>http://[IP]:[PORT:3000]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/theodorecharles/Galleria/master/unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/theodorecharles/Galleria/refs/heads/master/config/icons/icon-512.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled></DateInstalled>
  <DonateText>Support the developer</DonateText>
  <DonateLink>https://github.com/sponsors/theodorecharles</DonateLink>
  <Requires>
      Before first run, you must configure:
      1. Frontend Domain - The URL where users will access your site (e.g.,
  https://photos.yourdomain.com)
      2. Backend Domain - The API URL (e.g., https://api.yourdomain.com)
      3. Data Directory - Persistent storage for photos, database, and config

      For local/testing: Use http://[SERVER-IP]:3000 and http://[SERVER-IP]:3001
      For production: Set up reverse proxy (Nginx Proxy Manager recommended) with SSL

      NVIDIA GPU Hardware Encoding (Optional):
      For faster video transcoding with NVIDIA GPUs, manually add these to your container:
      1. Edit the container and click "Advanced View" in the top right
      2. In "Extra Parameters" add: --runtime=nvidia
      3. Add two new variables (Config Type: Variable):
         - NVIDIA_DRIVER_CAPABILITIES = all
         - NVIDIA_VISIBLE_DEVICES = (your GPU UUID or "all")

      To find your GPU UUID, run in Unraid terminal: nvidia-smi -L
  </Requires>
  <Config Name="WebUI Port" Target="3000" Default="" Mode="tcp" Description="Frontend web interface port" Type="Port" Display="always" Required="true" Mask="false">3000</Config>
  <Config Name="API Port" Target="3001" Default="" Mode="tcp" Description="Backend API port" Type="Port" Display="always" Required="true" Mask="false">3001</Config>
  <Config Name="Data Directory" Target="/app/data" Default="" Mode="rw" Description="Directory for photos, database, and configuration files" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/galleria</Config>
  <Config Name="Frontend Domain" Target="FRONTEND_DOMAIN" Default="" Mode="" Description="The URL where users access your site. Leave blank for local IP access. For production with reverse proxy use https://photos.yourdomain.com" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="Backend Domain" Target="BACKEND_DOMAIN" Default="" Mode="" Description="The API URL. Leave blank for local IP access. For production with reverse proxy use https://api.yourdomain.com" Type="Variable" Display="always" Required="false" Mask="false"/> 
  <TailscaleStateDir/>
</Container>
